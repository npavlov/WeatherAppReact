(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,n){e.exports=n(59)},53:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),u=n(18),i=n(22),o=n(5),l=n(6);function f(){var e=Object(o.a)(["\n        background: gray;\n        color: white;\n        font-weight: 400;\n      "]);return f=function(){return e},e}function d(){var e=Object(o.a)(["\n    background: transparent;\n    border-radius: 15px;\n    border: 0;\n    color: black;\n    margin: 0.5em;\n    margin-top: 3em;\n    padding: 0.25em 1em;\n    font-weight: 700;\n    font-size: 1em;\n    ",";\n  "]);return d=function(){return e},e}var m=Object(u.g)(function(e){var t=e.location,n=(e.match,l.b.button(d(),function(e){return e.selected&&Object(l.a)(f())})),r=function(e,t){return e.endsWith(t)};return a.a.createElement("div",null,a.a.createElement(c.b,{to:"/day"},a.a.createElement(n,{selected:r(t.pathname,"day")},"Day")),a.a.createElement(c.b,{to:"/week"},a.a.createElement(n,{selected:r(t.pathname,"week")},"Week")))}),s=n(16),b=n(13);function p(){var e=Object(o.a)(["\n  flex-basis: 100%;\n  height: 0;\n"]);return p=function(){return e},e}function v(){var e=Object(o.a)(["\n  margin: 0;\n"]);return v=function(){return e},e}function E(){var e=Object(o.a)(["\n  font-size: 3rem;\n"]);return E=function(){return e},e}function h(){var e=Object(o.a)(["\n  filter: drop-shadow(3px 3px 2px rgba(0, 0, 0, 0.4));\n"]);return h=function(){return e},e}var O=l.b.img(h()),g=l.b.p(E()),j=l.b.p(v()),w=l.b.div(p()),y=function(e){switch(e){case"c":return"#FFF8DE";case"hc":case"s":return"#F9F9F9";case"hr":return"#E9E9E9";case"lc":return"#F7FCFF";case"sn":return"#EEF6F9";case"lr":return"#EAEAEA";default:return"#F9F9F9"}},x=function(e){return("0"+e).slice(-2)};function _(){var e=Object(o.a)(["\n    height: 1rem;\n  "]);return _=function(){return e},e}function L(){var e=Object(o.a)(["\n    height: 15%;\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    flex-wrap: wrap;\n  "]);return L=function(){return e},e}function A(){var e=Object(o.a)(["\n    height: 60%;\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n  "]);return A=function(){return e},e}function F(){var e=Object(o.a)(["\n    height: 10%;\n  "]);return F=function(){return e},e}function D(){var e=Object(o.a)(["\n    width: 10rem;\n    margin: 1rem;\n    margin-top: 3rem;\n  "]);return D=function(){return e},e}var S=function(){var e=Object(s.a)(function(e){return e.forecast},function(e){return e}),t=Object(l.b)(O)(D()),n=Object(b.c)(e);if(0===n.days.length)return a.a.createElement("div",null);var r,c=n.days[0],u=c.pic,i=c.temp_avg,o=l.b.div(F()),f=l.b.div(A()),d=l.b.div(L()),m=Object(l.b)(w)(_());return a.a.createElement(a.a.Fragment,null,a.a.createElement(o,null,a.a.createElement(t,{src:u,alt:"today"})),a.a.createElement(f,null,a.a.createElement(g,null,i.toFixed(),"\xb0")),a.a.createElement(d,null,a.a.createElement(j,null,(r=new Date,x(r.getHours())+":"+x(r.getMinutes()))),a.a.createElement(w,null),a.a.createElement(j,null,n.timezone),a.a.createElement(m,null)))};function C(){var e=Object(o.a)(["\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    margin-right: 1rem;\n  "]);return C=function(){return e},e}function k(){var e=Object(o.a)(["\n    padding-right: 2rem;\n    flex-grow: 1;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-end;\n  "]);return k=function(){return e},e}function R(){var e=Object(o.a)(["\n    padding-bottom: 20px;\n  "]);return R=function(){return e},e}function U(){var e=Object(o.a)(["\n    padding-top: 20px;\n  "]);return U=function(){return e},e}function I(){var e=Object(o.a)(["\n    margin-left: 2rem;\n    text-align: left;\n    display: flex;\n    flex-wrap: wrap;\n    flex-grow: 1;\n  "]);return I=function(){return e},e}function W(){var e=Object(o.a)(["\n          background-color: ",";\n        "]);return W=function(){return e},e}function P(){var e=Object(o.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    ",";\n  "]);return P=function(){return e},e}function T(){var e=Object(o.a)(["\n    width: 3rem;\n    margin: 1rem;\n  "]);return T=function(){return e},e}var z=function(e){var t=e.day,n=t.pic,r=t.applicable_date,c=t.weather_state_abbr,u=t.temp_min,i=t.temp_max,o=Object(l.b)(O)(T()),f=l.b.div(P(),function(e){return e.color&&Object(l.a)(W(),e.color)}),d=l.b.div(I()),m=Object(l.b)(j)(U()),s=Object(l.b)(j)(R()),b=l.b.div(k()),p=Object(l.b)(j)(C());return a.a.createElement(f,{color:y(c)},a.a.createElement(d,null,a.a.createElement(m,null,r.toLocaleDateString("en-US",{weekday:"long"})),a.a.createElement(w,null),a.a.createElement(s,null,function(e){return e.toLocaleDateString("en-US",{month:"short",day:"2-digit"})}(r))),a.a.createElement(b,null,a.a.createElement(p,null,i.toFixed(),"\xb0/",u.toFixed(),"\xb0"),a.a.createElement("div",null,a.a.createElement(o,{src:n,alt:"pic"}))),a.a.createElement("div",{style:{clear:"both"}}))},N=function(){var e=Object(s.a)(function(e){return e.forecast},function(e){return e}),t=Object(b.c)(e);if(0===t.days.length)return a.a.createElement("div",null);var n=t.days.map(function(e){return a.a.createElement(z,{day:e,key:e.id})});return a.a.createElement("div",null,n)},G={LOAD:"LOAD_REQ",LOAD_SUCCESS:"LOAD_SUCCESS",LOAD_FAIL:"LOAD_FAIL"},H=function(e,t,n){return{type:G.LOAD,payload:{service:e,latitude:t,longtitude:n}}},B=function(e){return{type:G.LOAD_SUCCESS,payload:e}},J=function(e){return{type:G.LOAD_FAIL,payload:e}},V=(n(53),function(){return a.a.createElement("div",{className:"lds-spinner"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))}),M=a.a.createContext(void 0);var Q=function(){var e=Object(r.useContext)(M),t=Object(b.b)();Object(r.useEffect)(function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(n){var r=n.coords,a=r.latitude,c=r.longitude;t(H(e,a,c))})},[]);var n=Object(s.a)(function(e){return e.forecast},function(e){return e}),c=Object(s.a)(function(e){return e.loading},function(e){return e}),i=Object(b.c)(c),o=Object(b.c)(n),l=i&&a.a.createElement(V,null),f=!i&&a.a.createElement(u.d,null,a.a.createElement(u.b,{component:S,path:"/day",exact:!0}),a.a.createElement(u.b,{component:N,path:"/week",exact:!0}),a.a.createElement(u.b,{path:"/",exact:!0,render:function(){return a.a.createElement(u.a,{to:"/day"})}})),d=o.days.length>0?o.days[0].weather_state_abbr:"na",p=y(d);return a.a.createElement("div",{style:{height:"100%",background:p}},l,a.a.createElement(m,null),f)},q=n(12),K=n(21),X=n.n(K),Y=n(19),Z=X.a.mark(ee),$=X.a.mark(te);function ee(e){var t,n,r,a,c,u;return X.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.service,r=t.latitude,a=t.longtitude,i.prev=1,i.next=4,Object(Y.a)(n.GetLocation,r,a);case 4:return c=i.sent,console.log(c),i.next=8,Object(Y.a)(n.FetchWeather,c);case 8:return u=i.sent,i.next=11,Object(Y.b)(B(u));case 11:i.next=17;break;case 13:return i.prev=13,i.t0=i.catch(1),i.next=17,Object(Y.b)(J(i.t0));case 17:case"end":return i.stop()}},Z,null,[[1,13]])}function te(){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.c)(G.LOAD,ee);case 2:case"end":return e.stop()}},$)}var ne=te,re=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case G.LOAD:return!0;case G.LOAD_FAIL:case G.LOAD_SUCCESS:return!1;default:return e}},ae=n(40),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"n/a",timezone:"n/a",days:[]},t=arguments.length>1?arguments[1]:void 0;return t.type===G.LOAD_SUCCESS?Object(ae.a)({},e,t.payload):e},ue=Object(q.c)({loading:re,forecast:ce,error:ce}),ie=n(39),oe=function(){var e=Object(ie.a)(),t=Object(q.e)(ue,Object(q.d)(Object(q.a)(e)));return e.run(ne),t},le=(n(57),n(37)),fe=n(38),de=Object({NODE_ENV:"production",PUBLIC_URL:"/WeatherAppReact"}).WEATHER_FETCH_ADDRESS,me=Object({NODE_ENV:"production",PUBLIC_URL:"/WeatherAppReact"}).WEATHER_PIC_URL,se=function(){function e(){Object(le.a)(this,e),this.GetLocation=function(e,t){return new Promise(function(n,r){fetch(de+"/api/location/search/?lattlong=".concat(e,",").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){if(!e.ok)throw new Error("not a valid answer!");return e}).then(function(e){return e.json()}).then(function(e){return e[0].woeid}).then(function(e){return n(e)})})}}return Object(fe.a)(e,[{key:"FetchWeather",value:function(e){return new Promise(function(t,n){fetch(de+"/api/location/".concat(e,"/"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){if(!e.ok)throw new Error("not a valid answer!");return e}).then(function(e){return e.json()}).then(function(e){var n={title:e.title,timezone:e.timezone,days:[]};e.consolidated_weather.forEach(function(e){var t=e.weather_state_abbr,r={temp_min:e.min_temp,temp_avg:e.the_temp,temp_max:e.max_temp,weather_state_abbr:e.weather_state_abbr,applicable_date:new Date(e.applicable_date),pic:"".concat(me,"/static/img/weather/").concat(t,".svg"),id:e.id};n.days.push(r)}),t(n)}).catch(function(e){console.log("ERROR",e),n(e)})})}}]),e}(),be=oe(),pe=document.getElementById("root"),ve=new se;Object(i.render)(r.createElement(M.Provider,{value:ve},r.createElement(b.a,{store:be},r.createElement(c.a,null,r.createElement(u.b,{component:Q})))),pe)}},[[43,2,1]]]);
//# sourceMappingURL=main.6f391358.chunk.js.map