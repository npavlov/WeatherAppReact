(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,n){e.exports=n(59)},53:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),o=n(18),u=n(22),i=n(5),l=n(6);function f(){var e=Object(i.a)(["\n        background: gray;\n        color: white;\n        font-weight: 400;\n      "]);return f=function(){return e},e}function d(){var e=Object(i.a)(["\n    background: transparent;\n    border-radius: 15px;\n    border: 0;\n    color: black;\n    margin: 0.5em;\n    margin-top: 3em;\n    padding: 0.25em 1em;\n    font-weight: 700;\n    font-size: 1em;\n    ",";\n  "]);return d=function(){return e},e}var m=Object(o.g)(function(e){var t=e.location,n=(e.match,l.b.button(d(),function(e){return e.selected&&Object(l.a)(f())})),r=function(e,t){return e.endsWith(t)};return a.a.createElement("div",null,a.a.createElement(c.b,{to:"day"},a.a.createElement(n,{selected:r(t.pathname,"day")},"Day")),a.a.createElement(c.b,{to:"week"},a.a.createElement(n,{selected:r(t.pathname,"week")},"Week")))}),s=n(16),b=n(13);function p(){var e=Object(i.a)(["\n  flex-basis: 100%;\n  height: 0;\n"]);return p=function(){return e},e}function v(){var e=Object(i.a)(["\n  margin: 0;\n"]);return v=function(){return e},e}function h(){var e=Object(i.a)(["\n  font-size: 3rem;\n"]);return h=function(){return e},e}function E(){var e=Object(i.a)(["\n  filter: drop-shadow(3px 3px 2px rgba(0, 0, 0, 0.4));\n"]);return E=function(){return e},e}var O=l.b.img(E()),g=l.b.p(h()),j=l.b.p(v()),w=l.b.div(p()),y=function(e){switch(e){case"c":return"#FFF8DE";case"hc":case"s":return"#F9F9F9";case"hr":return"#E9E9E9";case"lc":return"#F7FCFF";case"sn":return"#EEF6F9";case"lr":return"#EAEAEA";default:return"#F9F9F9"}},x=function(e){return("0"+e).slice(-2)};function _(){var e=Object(i.a)(["\n    height: 1rem;\n  "]);return _=function(){return e},e}function F(){var e=Object(i.a)(["\n    height: 15%;\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    flex-wrap: wrap;\n  "]);return F=function(){return e},e}function L(){var e=Object(i.a)(["\n    height: 60%;\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n  "]);return L=function(){return e},e}function A(){var e=Object(i.a)(["\n    height: 10%;\n  "]);return A=function(){return e},e}function k(){var e=Object(i.a)(["\n    width: 10rem;\n    margin: 1rem;\n    margin-top: 3rem;\n  "]);return k=function(){return e},e}var D=function(){var e=Object(s.a)(function(e){return e.forecast},function(e){return e}),t=Object(l.b)(O)(k()),n=Object(b.c)(e);if(0===n.days.length)return a.a.createElement("div",null);var r,c=n.days[0],o=c.pic,u=c.temp_avg,i=l.b.div(A()),f=l.b.div(L()),d=l.b.div(F()),m=Object(l.b)(w)(_());return a.a.createElement(a.a.Fragment,null,a.a.createElement(i,null,a.a.createElement(t,{src:o,alt:"today"})),a.a.createElement(f,null,a.a.createElement(g,null,u.toFixed(),"\xb0")),a.a.createElement(d,null,a.a.createElement(j,null,(r=new Date,x(r.getHours())+":"+x(r.getMinutes()))),a.a.createElement(w,null),a.a.createElement(j,null,n.timezone),a.a.createElement(m,null)))};function S(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    margin-right: 1rem;\n  "]);return S=function(){return e},e}function C(){var e=Object(i.a)(["\n    padding-right: 2rem;\n    flex-grow: 1;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-end;\n  "]);return C=function(){return e},e}function U(){var e=Object(i.a)(["\n    padding-bottom: 20px;\n  "]);return U=function(){return e},e}function z(){var e=Object(i.a)(["\n    padding-top: 20px;\n  "]);return z=function(){return e},e}function I(){var e=Object(i.a)(["\n    margin-left: 2rem;\n    text-align: left;\n    display: flex;\n    flex-wrap: wrap;\n    flex-grow: 1;\n  "]);return I=function(){return e},e}function G(){var e=Object(i.a)(["\n          background-color: ",";\n        "]);return G=function(){return e},e}function P(){var e=Object(i.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    ",";\n  "]);return P=function(){return e},e}function R(){var e=Object(i.a)(["\n    width: 3rem;\n    margin: 1rem;\n  "]);return R=function(){return e},e}var T=function(e){var t=e.day,n=t.pic,r=t.applicable_date,c=t.weather_state_abbr,o=t.temp_min,u=t.temp_max,i=Object(l.b)(O)(R()),f=l.b.div(P(),function(e){return e.color&&Object(l.a)(G(),e.color)}),d=l.b.div(I()),m=Object(l.b)(j)(z()),s=Object(l.b)(j)(U()),b=l.b.div(C()),p=Object(l.b)(j)(S());return a.a.createElement(f,{color:y(c)},a.a.createElement(d,null,a.a.createElement(m,null,r.toLocaleDateString("en-US",{weekday:"long"})),a.a.createElement(w,null),a.a.createElement(s,null,function(e){return e.toLocaleDateString("en-US",{month:"short",day:"2-digit"})}(r))),a.a.createElement(b,null,a.a.createElement(p,null,u.toFixed(),"\xb0/",o.toFixed(),"\xb0"),a.a.createElement("div",null,a.a.createElement(i,{src:n,alt:"pic"}))),a.a.createElement("div",{style:{clear:"both"}}))},W=function(){var e=Object(s.a)(function(e){return e.forecast},function(e){return e}),t=Object(b.c)(e);if(0===t.days.length)return a.a.createElement("div",null);var n=t.days.map(function(e){return a.a.createElement(T,{day:e,key:e.id})});return a.a.createElement("div",null,n)},J={LOAD:"LOAD_REQ",LOAD_SUCCESS:"LOAD_SUCCESS",LOAD_FAIL:"LOAD_FAIL"},B=function(e,t,n){return{type:J.LOAD,payload:{service:e,latitude:t,longtitude:n}}},H=function(e){return{type:J.LOAD_SUCCESS,payload:e}},M=function(e){return{type:J.LOAD_FAIL,payload:e}},N=(n(53),function(){return a.a.createElement("div",{className:"lds-spinner"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))}),Q=a.a.createContext(void 0);var q=function(){var e=Object(r.useContext)(Q),t=Object(b.b)();Object(r.useEffect)(function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(n){var r=n.coords,a=r.latitude,c=r.longitude;t(B(e,a,c))})},[]);var n=Object(s.a)(function(e){return e.forecast},function(e){return e}),c=Object(s.a)(function(e){return e.loading},function(e){return e}),u=Object(b.c)(c),i=Object(b.c)(n),l=u&&a.a.createElement(N,null),f=!u&&a.a.createElement(o.d,null,a.a.createElement(o.b,{component:D,path:"/day",exact:!0}),a.a.createElement(o.b,{component:W,path:"/week",exact:!0}),a.a.createElement(o.b,{path:"/",exact:!0,render:function(){return a.a.createElement(o.a,{to:"/day"})}})),d=i.days.length>0?i.days[0].weather_state_abbr:"na",p=y(d);return a.a.createElement("div",{style:{height:"100%",background:p}},l,a.a.createElement(m,null),f)},K=n(12),V=n(21),X=n.n(V),Y=n(19),Z=X.a.mark(ee),$=X.a.mark(te);function ee(e){var t,n,r,a,c,o;return X.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.service,r=t.latitude,a=t.longtitude,u.prev=1,u.next=4,Object(Y.a)(n.GetLocation,r,a);case 4:return c=u.sent,console.log(c),u.next=8,Object(Y.a)(n.FetchWeather,c);case 8:return o=u.sent,u.next=11,Object(Y.b)(H(o));case 11:u.next=17;break;case 13:return u.prev=13,u.t0=u.catch(1),u.next=17,Object(Y.b)(M(u.t0));case 17:case"end":return u.stop()}},Z,null,[[1,13]])}function te(){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.c)(J.LOAD,ee);case 2:case"end":return e.stop()}},$)}var ne=te,re=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case J.LOAD:return!0;case J.LOAD_FAIL:case J.LOAD_SUCCESS:return!1;default:return e}},ae=n(40),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"n/a",timezone:"n/a",days:[]},t=arguments.length>1?arguments[1]:void 0;return t.type===J.LOAD_SUCCESS?Object(ae.a)({},e,t.payload):e},oe=Object(K.c)({loading:re,forecast:ce,error:ce}),ue=n(39),ie=function(){var e=Object(ue.a)(),t=Object(K.e)(oe,Object(K.d)(Object(K.a)(e)));return e.run(ne),t},le=(n(57),n(37)),fe=n(38),de="https://cors-anywhere.herokuapp.com/https://www.metaweather.com",me=function(){function e(){Object(le.a)(this,e),this.GetLocation=function(e,t){return new Promise(function(n,r){fetch(de+"/api/location/search/?lattlong=".concat(e,",").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){if(!e.ok)throw new Error("not a valid answer!");return e}).then(function(e){return e.json()}).then(function(e){return e[0].woeid}).then(function(e){return n(e)})})}}return Object(fe.a)(e,[{key:"FetchWeather",value:function(e){return new Promise(function(t,n){fetch(de+"/api/location/".concat(e,"/"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){if(!e.ok)throw new Error("not a valid answer!");return e}).then(function(e){return e.json()}).then(function(e){var n={title:e.title,timezone:e.timezone,days:[]};e.consolidated_weather.forEach(function(e){var t=e.weather_state_abbr,r={temp_min:e.min_temp,temp_avg:e.the_temp,temp_max:e.max_temp,weather_state_abbr:e.weather_state_abbr,applicable_date:new Date(e.applicable_date),pic:"".concat("https://www.metaweather.com","/static/img/weather/").concat(t,".svg"),id:e.id};n.days.push(r)}),t(n)}).catch(function(e){console.log("ERROR",e),n(e)})})}}]),e}(),se=ie(),be=document.getElementById("root"),pe=new me;Object(u.render)(r.createElement(Q.Provider,{value:pe},r.createElement(b.a,{store:se},r.createElement(c.a,null,r.createElement(o.b,{component:q})))),be)}},[[43,2,1]]]);
//# sourceMappingURL=main.61da5cb5.chunk.js.map